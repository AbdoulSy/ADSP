{{define "svg_graph_defs"}}<style>.axis--x path{display:none}.line{fill:none;stroke:#4682b4;stroke-width:1.5px}</style><svg width="619" height="360" id="bar"></svg><script>var svg=d3.select("#bar"),margin={top:20,right:20,bottom:30,left:50},width=+svg.attr("width")-margin.left-margin.right,height=+svg.attr("height")-margin.top-margin.bottom,g=svg.append("g").attr("transform","translate("+margin.left+","+margin.top+")"),parseTime=d3.timeParse("%d-%b-%y"),x=d3.scaleTime().rangeRound([0,width]),y=d3.scaleLinear().rangeRound([height,0]),xline=d3.line().x(function(t){return x(t.date)}).y(function(t){return y(t.close)});d3.tsv("/public/data/data.tsv",function(t){return t.date=parseTime(t.date),t.close=+t.close,t},function(t,a){if(t)throw t;x.domain(d3.extent(a,function(t){return t.date})),y.domain(d3.extent(a,function(t){return t.close})),g.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+height+")").call(d3.axisBottom(x)),g.append("g").attr("class","axis axis--y").call(d3.axisLeft(y)).append("text").attr("fill","#000").attr("transform","rotate(-90)").attr("y",6).attr("dy","0.71em").style("text-anchor","end").text("Price ($)"),g.append("path").datum(a).attr("class","line").attr("d",xline)})</script>{{end}}